<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Dashboard - Jefe de Unidad</title>

    <!-- Fuentes e 칤conos -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">

    <!-- DataTables -->
    <link rel="stylesheet" href="https://cdn.datatables.net/1.13.6/css/jquery.dataTables.min.css">
    <link rel="stylesheet" href="https://cdn.datatables.net/buttons/2.4.2/css/buttons.dataTables.min.css">

    <!-- Estilo principal -->
    <link rel="stylesheet" href="../Recurso/Css/dashboard_docente.css">

    <style>
        /* ======== MODAL DE EVALUACI칍N ======== */

        .modal-eval {
            position: fixed;
            top: 0; left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.6);
            display: none;
            justify-content: center;
            align-items: center;
            z-index: 999999;
        }

        .eval-box {
            background: #fff;
            padding: 25px;
            width: 750px;
            max-height: 90vh;
            overflow-y: auto;
            border-radius: 10px;
            box-shadow: 0 0 20px rgba(0,0,0,0.3);
            animation: fadeIn .3s ease-out;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: scale(0.95); }
            to { opacity: 1; transform: scale(1); }
        }

        .eval-buttons {
            display: flex;
            justify-content: flex-end;
            margin-top: 20px;
            gap: 10px;
        }

        .btn-guardar {
            background: #0b6efd;
            color: #fff;
            padding: 10px 16px;
            border: none;
            border-radius: 6px;
            cursor: pointer;
        }

        .btn-cerrar {
            background: #dc3545;
            color: #fff;
            padding: 10px 16px;
            border: none;
            border-radius: 6px;
            cursor: pointer;
        }
    </style>

</head>

<body>

<header class="navbar">
    <div class="navbar-left">
        <img src="../Recurso/img/logo.png" class="logo" alt="Logo">
        <h2>Investigaci칩n - Jefe de Unidad</h2>

        <nav class="menu">
            <a href="#" class="active">Inicio</a>
        </nav>
    </div>

    <div class="navbar-right">
        <span id="nombreJefeNavbar">Jefe de Unidad</span>
        <img src="../Recurso/img/usuario.png" class="avatar">
        <button id="btnCerrarSesion" class="btn-cerrar">Cerrar Sesi칩n</button>
    </div>
</header>


<section class="content">

    <!-- BIENVENIDA -->
    <section class="seccion tarjeta">
        <h1 id="bienvenidaTexto">Bienvenido, Jefe de Unidad</h1>
    </section>

    <!-- SECCI칍N 1: PROYECTOS DE DOCENTES -->
    <section class="seccion tarjeta">
        <h2 class="titulo-seccion">Proyectos Presentados por Docentes</h2>

        <div class="tabla-responsive">
            <table id="tablaProyectosJefe" class="tabla">
                <thead>
                    <tr>
                        <th>Docente</th>
                        <th>Proyecto</th>
                        <th>Tipo</th>
                        <th>L칤nea</th>
                        <th>Estado</th>
                        <th>Acciones</th>
                    </tr>
                </thead>
                <tbody id="tbodyProyectosJefe"></tbody>
            </table>
        </div>
    </section>


    <!-- SECCI칍N 2: PERFIL DEL PROYECTO -->
    <section class="seccion tarjeta">
        <h2 class="titulo-seccion">Perfil de Proyecto (Primer Avance)</h2>

        <div class="tabla-responsive">
            <table id="tablaPerfilProyecto" class="tabla">
                <thead>
                    <tr>
                        <th>Docente</th>
                        <th>Proyecto</th>
                        <th>Archivo</th>
                        <th>Estado</th>
                        <th>Nota</th>
                        <th>Observaciones</th>
                        <th>Acciones</th>
                    </tr>
                </thead>
                <tbody id="tbodyPerfilProyecto"></tbody>
            </table>
        </div>
    </section>


    <!-- SECCI칍N 3: AVANCES -->
    <section class="seccion tarjeta">
        <h2 class="titulo-seccion">Avances del Proyecto</h2>

        <div class="tabla-responsive">
            <table id="tablaAvancesJefe" class="tabla">
                <thead>
                    <tr>
                        <th>Avance</th>
                        <th>Proyecto</th>
                        <th>Docente</th>
                        <th>Archivo</th>
                        <th>Fecha Env칤o</th>
                        <th>Informe Evaluador</th>
                        <th>Acciones</th>
                    </tr>
                </thead>
                <tbody id="tbodyAvancesJefe"></tbody>
            </table>
        </div>
    </section>


    <!-- SECCI칍N 4: INFORME FINAL -->
    <section class="seccion tarjeta">
        <h2 class="titulo-seccion">Informe Final</h2>

        <div class="tabla-responsive">
            <table id="tablaInformeFinal" class="tabla">
                <thead>
                    <tr>
                        <th>Proyecto</th>
                        <th>Docente</th>
                        <th>Archivo Final</th>
                        <th>Estado</th>
                        <th>Nota</th>
                        <th>Observaciones</th>
                        <th>Acciones</th>
                    </tr>
                </thead>
                <tbody id="tbodyInformeFinal"></tbody>
            </table>
        </div>
    </section>

</section>


<!-- Modal visor existente -->
<div id="modalVisor" class="modal-visor" style="display:none;">
    <div class="visor-box">
        <iframe id="visorIframe"></iframe>
        <button id="btnCerrarVisor" class="btn-cerrar-modal">Cerrar</button>
    </div>
</div>


<!-- 游댠 NUEVO MODAL DE EVALUACI칍N -->
<div id="modalEvaluacion" class="modal-eval" style="display:none;">
    <div class="eval-box">

        <h2 id="tituloEvaluacion">Evaluaci칩n</h2>

        <div id="contenidoEvaluacion">
            <!-- Aqu칤 se insertar치 din치micamente el formulario de evaluaci칩n -->
        </div>

        <div class="eval-buttons">
            <button class="btn-guardar" id="btnGuardarEvaluacion">Guardar Evaluaci칩n</button>
            <button class="btn-cerrar" onclick="cerrarModalEvaluacion()">Cerrar</button>
        </div>

    </div>
</div>


<script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
<script src="https://cdn.datatables.net/1.13.6/js/jquery.dataTables.min.js"></script>
<script src="https://cdn.datatables.net/buttons/2.4.2/js/dataTables.buttons.min.js"></script>

<!-- JS principal -->
<script type="module" src="../JavaScript/jefeunidad_dashboard.js"></script>

</body>
</html>
